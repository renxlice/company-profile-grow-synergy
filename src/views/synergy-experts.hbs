<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{{description}}">
    <meta name="keywords" content="{{keywords}}">
    <meta name="author" content="{{author}}">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{{ogTitle}}">
    <meta property="og:description" content="{{ogDescription}}">
    <meta property="og:image" content="{{ogImage}}">
    <meta property="og:url" content="{{ogUrl}}">
    <meta property="og:type" content="{{ogType}}">
    <meta property="og:site_name" content="{{siteName}}">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="{{twitterCard}}">
    <meta name="twitter:title" content="{{twitterTitle}}">
    <meta name="twitter:description" content="{{twitterDescription}}">
    <meta name="twitter:image" content="{{twitterImage}}">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{canonical}}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-analytics-compat.js"></script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {{{structuredDataJson}}}
    </script>
    
    <!-- Google Analytics -->
    {{#if googleAnalyticsId}}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{googleAnalyticsId}}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{googleAnalyticsId}}');
    </script>
    {{/if}}
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <img src="/images/logo_pt.png" alt="GROW SYNERGY INDONESIA" class="w-12 h-12 md:w-20 md:h-20 rounded-lg object-cover">
                    <a href="/home" class="text-sm md:text-xl font-bold text-gray-800">GROW SYNERGY INDONESIA</a>
                </div>
                
                <div class="hidden md:flex space-x-4 lg:space-x-6">
                    <a href="/home" class="nav-link text-sm lg:text-base hover:text-orange-500 transition-colors" data-page="home">Beranda</a>
                    <a href="/synergy-experts" class="nav-link text-sm lg:text-base text-orange-500 font-semibold border-b-2 border-orange-500 pb-1" data-page="synergy-experts">Instruktur Data Analitik</a>
                    <a href="/synergy-portfolio" class="nav-link text-sm lg:text-base hover:text-orange-500 transition-colors" data-page="synergy-portfolio">Portfolio Alumni</a>
                    <a href="/synergy-academy" class="nav-link text-sm lg:text-base hover:text-orange-500 transition-colors" data-page="synergy-academy">Kursus Data Analitik</a>
                    <a href="/blog" class="nav-link text-sm lg:text-base hover:text-orange-500 transition-colors" data-page="blog">Blog</a>
                </div>
                
                <!-- Mobile Menu -->
                <div id="mobile-menu" class="hidden fixed inset-0 bg-white z-50 md:hidden">
                    <div class="flex flex-col h-full">
                        <div class="flex justify-end items-center p-4 border-b">
                            <button id="close-menu-btn" class="text-gray-600 p-2">
                                <i class="fas fa-times text-xl"></i>
                            </button>
                        </div>
                        <nav class="flex-1 p-4">
                            <div class="flex flex-col space-y-4">
                                <a href="/home" class="nav-link text-lg py-3 border-b hover:text-orange-500 transition-colors" data-page="home">Beranda</a>
                                <a href="/synergy-experts" class="nav-link text-lg py-3 border-b text-orange-500 font-semibold" data-page="synergy-experts">Instruktur Data Analitik</a>
                                <a href="/synergy-portfolio" class="nav-link text-lg py-3 border-b hover:text-orange-500 transition-colors" data-page="synergy-portfolio">Portfolio Alumni</a>
                                <a href="/synergy-academy" class="nav-link text-lg py-3 border-b hover:text-orange-500 transition-colors" data-page="synergy-academy">Kursus Data Analitik</a>
                                <a href="/blog" class="nav-link text-lg py-3 border-b hover:text-orange-500 transition-colors" data-page="blog">Blog</a>
                                <a href="/about" class="bg-gradient-to-r from-orange-500 to-green-500 text-white px-4 py-3 rounded-lg text-center mt-4" style="background: linear-gradient(to right, #f97316, #4bd68d) !important;">
                                    Tentang Kami
                                </a>
                            </div>
                        </nav>
                    </div>
                </div>
                
                <div class="flex items-center space-x-2">
                    <a href="/about" class="bg-gradient-to-r from-orange-500 to-green-500 text-white px-1.5 py-0.5 md:px-4 md:py-2 rounded-lg hover:from-orange-600 hover:to-green-600 transition-all duration-300 transform hover:scale-105 shadow-lg !important text-xs md:text-sm" style="background: linear-gradient(to right, #f97316, #4bd68d) !important;">
                        Tentang Kami
                    </a>
                    <button id="mobile-menu-btn" class="md:hidden text-gray-600 p-1">
                        <i class="fas fa-bars text-base"></i>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <main>


<div class="hero-section" id="hero-section">
    <div class="background-image" id="hero-background-image" style="background-image: url('https://picsum.photos/seed/hero-experts/1920/1080.jpg');"></div>
    <div class="hero-content">
        <h2 class="text-2xl md:text-3xl lg:text-4xl font-light mb-4" id="hero-subtitle">Tim Profesional Kami</h2>
        <h1 class="text-3xl md:text-4xl lg:text-6xl font-bold mb-6 lg:mb-8" id="hero-title">Synergy Experts</h1>
        <p class="text-base md:text-xl mb-6 lg:mb-8 text-center max-w-3xl px-4 lg:px-0" id="hero-description">
            Instruktur berpengalaman dengan dedikasi tinggi untuk mengembangkan talenta digital Indonesia
        </p>
    </div>
</div>

<!-- Search Section -->
<section class="py-8 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-2xl mx-auto">
            <div class="relative">
                <input 
                    type="text" 
                    id="searchInput"
                    placeholder="Cari nama pengajar..." 
                    class="w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-gray-900 placeholder-gray-500"
                    style="color: #111827 !important; background-color: white !important;"
                >
                <button class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-700 hover:text-blue-600">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="mt-4 flex flex-wrap gap-2 justify-center items-center">
                <button class="filter-btn px-4 py-2 bg-blue-600 text-white rounded-full text-sm hover:bg-blue-700 transition" data-filter="all">
                    <i class=></i>Semua
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="data-science">
                    <i class=></i>Data Science
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="web-development">
                    <i class=></i>Web Development
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="ui-ux-design">
                    <i class=></i>UI/UX Design
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="mobile-development">
                    <i class=></i>Mobile Development
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="business-intelligence">
                    <i class=></i>Business Intelligence
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="cybersecurity">
                    <i class=></i>Cybersecurity
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="database">
                    <i class=></i>Database
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="project-management">
                    <i class=></i>Project Management
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="quality-assurance">
                    <i class=></i>Quality Assurance
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="product-management">
                    <i class=></i>Product Management
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Synergy Experts Section -->
<section class="py-16">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
                Tim Instruktur Profesional
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                Lebih dari 50 instruktur berpengalaman dengan background industri terkemuka
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="expertsGrid" style="min-height: 400px;">
            <!-- Expert cards will be dynamically loaded here -->
            <div class="col-span-full text-center py-8 text-gray-500">
                <div class="text-4xl mb-4">⏳</div>
                <p>Loading experts...</p>
            </div>
        </div>
        
        <!-- Pagination -->
        <div class="mt-12 flex justify-center">
            <nav class="flex items-center space-x-2">
                <button class="px-3 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition" data-page="1">
                    1
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="2">
                    2
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="3">
                    3
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="4">
                    4
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="5">
                    5
                </button>
            </nav>
        </div>
    </div>
</section>

<!-- Expert Detail Modal -->
<div id="expertModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; display: none;">
    <div style="position: relative; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; padding: 20px;">
        <div style="background: white; border-radius: 8px; max-width: 800px; width: 100%; max-height: 90vh; overflow-y: auto;">
            <div style="padding: 20px; border-bottom: 1px solid #e5e7eb; display: flex; justify-content: space-between; align-items: center;">
                <h2 id="expertModalTitle" style="margin: 0; font-size: 24px; font-weight: bold; color: #1f2937;"></h2>
                <button id="closeExpertModal" style="background: none; border: none; font-size: 24px; color: #6b7280; cursor: pointer;">×</button>
            </div>
            <div style="padding: 20px;">
                <div id="expertModalImage" style="margin-bottom: 20px;"></div>
                <div id="expertModalContent"></div>
            </div>
        </div>
    </div>
</div>

<!-- Statistics Section -->
<section class="py-16 bg-blue-600 text-white">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
            <div>
                <div class="text-4xl font-bold mb-2">5+</div>
                <p class="text-blue-100">Expert Instruktur</p>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">15+</div>
                <p class="text-blue-100">Tahun Pengalaman</p>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">500+</div>
                <p class="text-blue-100">Siswa Dilatih</p>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">98%</div>
                <p class="text-blue-100">Tingkat Kepuasan</p>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-gray-800 text-white py-12">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <div class="flex items-center space-x-2 mb-4">
                    <img src="/images/logo_pt.png" alt="GROW SYNERGY INDONESIA" class="h-8 w-auto">
                    <span class="text-lg font-bold text-black">GROW SYNERGY INDONESIA</span>
                </div>
                <p class="text-gray-400">Platform pelatihan data analitik terbaik di Indonesia dengan instruktur profesional dan sertifikat bersertifikat.</p>
            </div>
            
            <div>
                <h3 class="font-semibold mb-4">Pelatihan</h3>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="/synergy-academy" class="hover:text-white transition">Kursus Data Analitik</a></li>
                    <li><a href="/synergy-experts" class="hover:text-white transition">Instruktur Data Analitik</a></li>
                    <li><a href="/synergy-portfolio" class="hover:text-white transition">Portfolio Alumni</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="font-semibold mb-4">Perusahaan</h3>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="/about" class="hover:text-white transition">Tentang Kami</a></li>
                    <li><a href="https://wa.me/6285697490726?text=Halo%20GROW%20SYNERGY%20INDONESIA%2C%20saya%20ingin%20bertanya" target="_blank" rel="noopener noreferrer" class="hover:text-white transition">Kontak</a></li>
                    <li><a href="/blog" class="hover:text-white transition">Blog</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="font-semibold mb-4">Ikuti Kami</h3>
                <div class="flex space-x-4 mb-4">
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-facebook text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-twitter text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-linkedin text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-instagram text-xl"></i>
                    </a>
                </div>
                <p class="text-gray-400">
                    <i class="fas fa-envelope mr-2"></i>grow.sindo@gmail.com
                </p>
                <p class="text-gray-400">
                    <i class="fas fa-phone mr-2"></i>+62 856-9749-0726
                </p>
            </div>
        </div>
        
        <div class="border-t border-gray-700 mt-8 pt-8">
            <!-- Mitra Section -->
            <div class="mb-8">
                <h3 class="text-center text-lg font-semibold text-white mb-6">Mitra Kami</h3>
                <div class="flex flex-wrap justify-center items-center gap-8">
                    <img src="/images/mitra/asdatin.png" alt="ASDATIN" class="h-12 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300">
                    <img src="/images/mitra/ideaslab.png" alt="Ideas Lab" class="h-12 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300">
                    <img src="/images/mitra/kompis.jpg" alt="Kompis" class="h-12 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300">
                    <img src="/images/mitra/lambang_kota_tangerang_selatan.png" alt="Kota Tangerang Selatan" class="h-12 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300">
                    <img src="/images/mitra/lembaga_sertifikasi_ti_bd.png" alt="Lembaga Sertifikasi TI BD" class="h-12 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300">
                    <img src="/images/mitra/sinarmas.jpg" alt="Sinarmas" class="h-12 w-auto object-contain filter grayscale hover:grayscale-0 transition-all duration-300">
                </div>
            </div>
            
            <div class="text-center text-gray-400 border-t border-gray-700 pt-8">
                <p>&copy; 2024 GROW SYNERGY INDONESIA. All rights reserved.</p>
            </div>
        </div>
    </div>
</footer>

    </main>

    <!-- JavaScript -->
    <script src="/js/main.js"></script>
    {{> firebase-config}}
    
    <style>
        /* Custom styles for expert cards - updated design */
        .expert-card {
            /* Card styling is now handled by inline Tailwind classes */
        }
    </style>
    
    <!-- Custom JavaScript -->
    <script>
        // Cache busting
        console.log('Loading synergy-experts page - v2.2', new Date().toISOString());
        
        // Firebase will be initialized by firebase-config partial
        console.log('Firebase initialization will be handled by partial');
        
        // Wait for Firebase to be initialized before using it
        function waitForFirebase() {
            return new Promise((resolve) => {
                if (window.firebase && window.firebase.apps && window.firebase.apps.length > 0) {
                    resolve();
                } else {
                    setTimeout(() => waitForFirebase().then(resolve), 100);
                }
            });
        }

        // Pagination variables
        let currentPage = 1;
        const itemsPerPage = 8; // Show 8 experts per page
        let allExperts = [];

        // Load experts from Firestore
        async function loadExperts() {
            try {
                // Wait for Firebase to be initialized
                await waitForFirebase();
                
                console.log('Loading experts from Firestore...');
                console.log('Firebase db available:', !!window.db);
                
                // Test connection first
                console.log('Testing connection to experts collection...');
                const testDoc = await window.db.collection('experts').limit(1).get();
                console.log('Test connection successful, docs:', testDoc.docs.length);
                
                console.log('Fetching all experts...');
                const expertsSnapshot = await window.db.collection('experts').get();
                console.log('Snapshot received, docs count:', expertsSnapshot.docs.length);
                
                allExperts = expertsSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                console.log('Experts loaded:', allExperts);
                console.log('Experts length:', allExperts.length);
                
                if (allExperts.length > 0) {
                    console.log('First expert data:', allExperts[0]);
                    console.log('First expert category:', allExperts[0].category);
                    console.log('All expert categories:', allExperts.map(e => ({ name: e.name, category: e.category })));
                }
                
                // If no data from Firestore, use mock data
                if (allExperts.length === 0) {
                    console.log('No experts from Firestore, using mock data');
                    allExperts = getMockExperts();
                }
                
                // Update experts grid with pagination
                updateExpertsGridWithPagination();
                
                // Initialize filter buttons after experts are loaded
                setTimeout(() => {
                    initializeFilters();
                }, 500);
            } catch (error) {
                console.error('Error loading experts:', error);
                console.error('Error stack:', error.stack);
                console.error('Error code:', error.code);
                console.error('Error message:', error.message);
                // Use mock data if Firestore fails
                console.log('Falling back to mock data...');
                allExperts = getMockExperts();
                updateExpertsGridWithPagination();
                
                // Initialize filter buttons after experts are loaded
                setTimeout(() => {
                    initializeFilters();
                }, 500);
            }
        }

        // Mock experts data for fallback
        function getMockExperts() {
            return [
                {
                    id: 'expert-1',
                    name: 'Dr. Ahmad Wijaya, M.Sc.',
                    position: 'Senior Data Analyst',
                    experience: '15+ Tahun Pengalaman',
                    description: 'Expert dalam data analitik dengan pengalaman 15+ tahun di perusahaan Fortune 500. Spesialis dalam machine learning dan statistical modeling.',
                    rating: 4.9,
                    reviewCount: 1250,
                    category: 'Data Science',
                    image: 'https://picsum.photos/seed/ahmad-wijaya/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-2',
                    name: 'Sarah Putri, S.Kom., M.T.',
                    position: 'Data Science Lead',
                    experience: '12+ Tahun Pengalaman',
                    description: 'Spesialis dalam Python programming dan data visualization. Pengalaman dalam big data analytics dan deep learning.',
                    rating: 4.8,
                    reviewCount: 890,
                    category: 'Data Science',
                    image: 'https://picsum.photos/seed/sarah-putri/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-3',
                    name: 'Budi Santoso, S.E., M.M.',
                    position: 'Business Intelligence Expert',
                    experience: '10+ Tahun Pengalaman',
                    description: 'Expert dalam business intelligence dan dashboard development. Pengalaman dalam Power BI, Tableau, dan data storytelling.',
                    rating: 4.7,
                    reviewCount: 650,
                    category: 'Business Intelligence',
                    image: 'https://picsum.photos/seed/budi-santoso/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-4',
                    name: 'Andi Pratama, S.Kom.',
                    position: 'Full Stack Developer',
                    experience: '8+ Tahun Pengalaman',
                    description: 'Expert dalam web development dengan stack modern. Spesialis dalam React, Node.js, dan cloud architecture.',
                    rating: 4.9,
                    reviewCount: 720,
                    category: 'Web Development',
                    image: 'https://picsum.photos/seed/andi-pratama/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-5',
                    name: 'Maya Sari, S.Des.',
                    position: 'UI/UX Designer',
                    experience: '7+ Tahun Pengalaman',
                    description: 'Expert dalam user experience design dan design thinking. Pengalaman dalam mobile app dan web design.',
                    rating: 4.8,
                    reviewCount: 540,
                    category: 'UI/UX Design',
                    image: 'https://picsum.photos/seed/maya-sari/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-6',
                    name: 'Rizki Firmansyah, S.Kom.',
                    position: 'Mobile Developer',
                    experience: '6+ Tahun Pengalaman',
                    description: 'Expert dalam mobile development dengan React Native dan Flutter. Pengalaman dalam app development untuk iOS dan Android.',
                    rating: 4.9,
                    reviewCount: 380,
                    category: 'Mobile Development',
                    image: 'https://picsum.photos/seed/rizki-firmansyah/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-7',
                    name: 'Dr. Indah Lestari, M.Sc.',
                    position: 'Machine Learning Engineer',
                    experience: '11+ Tahun Pengalaman',
                    description: 'Expert dalam machine learning dan artificial intelligence. Spesialis dalam deep learning dan computer vision.',
                    rating: 4.9,
                    reviewCount: 920,
                    category: 'Data Science',
                    image: 'https://picsum.photos/seed/indah-lestari/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-8',
                    name: 'Fajar Rahman, S.Kom.',
                    position: 'Backend Developer',
                    experience: '9+ Tahun Pengalaman',
                    description: 'Expert dalam backend development dengan focus pada API design dan microservices architecture.',
                    rating: 4.7,
                    reviewCount: 610,
                    category: 'Web Development',
                    image: 'https://picsum.photos/seed/fajar-rahman/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-9',
                    name: 'Lisa Permata, S.Kom.',
                    position: 'Data Engineer',
                    experience: '11+ Tahun Pengalaman',
                    description: 'Expert dalam ETL processes, data warehousing, dan big data technologies.',
                    rating: 4.8,
                    reviewCount: 940,
                    category: 'Data Science',
                    image: 'https://picsum.photos/seed/lisa-permata/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-10',
                    name: 'Dewi Kartika, S.T.',
                    position: 'Machine Learning Engineer',
                    experience: '6+ Tahun Pengalaman',
                    description: 'Spesialis dalam deep learning, computer vision, dan natural language processing.',
                    rating: 4.9,
                    reviewCount: 810,
                    category: 'Data Science',
                    image: 'https://picsum.photos/seed/dewi-kartika/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-11',
                    name: 'Reza Pratama, S.Kom.',
                    position: 'Cybersecurity Analyst',
                    experience: '13+ Tahun Pengalaman',
                    description: 'Expert dalam network security, ethical hacking, dan compliance frameworks.',
                    rating: 4.7,
                    reviewCount: 760,
                    category: 'Cybersecurity',
                    image: 'https://picsum.photos/seed/reza-pratama/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-12',
                    name: 'Hendra Kusuma, S.Kom.',
                    position: 'Database Administrator',
                    experience: '14+ Tahun Pengalaman',
                    description: 'Spesialis dalam database optimization, backup strategies, dan data governance.',
                    rating: 4.6,
                    reviewCount: 890,
                    category: 'Database',
                    image: 'https://picsum.photos/seed/hendra-kusuma/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-13',
                    name: 'Nina Wijaya, S.Pd., M.Pd.',
                    position: 'Project Manager',
                    experience: '16+ Tahun Pengalaman',
                    description: 'Expert dalam agile methodologies, team leadership, dan project delivery.',
                    rating: 4.8,
                    reviewCount: 1030,
                    category: 'Project Management',
                    image: 'https://picsum.photos/seed/nina-wijaya/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-14',
                    name: 'Doni Hermawan, S.T.',
                    position: 'Quality Assurance Engineer',
                    experience: '7+ Tahun Pengalaman',
                    description: 'Spesialis dalam automated testing dan quality assurance methodologies.',
                    rating: 4.6,
                    reviewCount: 540,
                    category: 'Quality Assurance',
                    image: 'https://picsum.photos/seed/doni-hermawan/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-15',
                    name: 'Siti Aminah, S.E.',
                    position: 'Product Manager',
                    experience: '10+ Tahun Pengalaman',
                    description: 'Expert dalam product strategy, user research, dan agile development.',
                    rating: 4.9,
                    reviewCount: 910,
                    category: 'Product Management',
                    image: 'https://picsum.photos/seed/siti-aminah/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                },
                {
                    id: 'expert-16',
                    name: 'Rina Susanti, S.Kom.',
                    position: 'Frontend Developer',
                    experience: '8+ Tahun Pengalaman',
                    description: 'Spesialis dalam React, Vue.js, dan modern CSS frameworks.',
                    rating: 4.7,
                    reviewCount: 620,
                    category: 'Web Development',
                    image: 'https://picsum.photos/seed/rina-susanti/200/200.jpg',
                    role: 'Dosen',
                    organization: 'Founder Grow Synergy'
                }
            ];
        }

        // Update experts grid with pagination
        function updateExpertsGridWithPagination() {
            const expertsGrid = document.getElementById('expertsGrid');
            if (!expertsGrid) {
                console.log('Experts grid not found');
                return;
            }

            if (allExperts.length === 0) {
                console.log('No experts data available');
                return;
            }

            // Calculate start and end indices for current page
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const currentExperts = allExperts.slice(startIndex, endIndex);

            // Clear existing content
            expertsGrid.innerHTML = '';

            // Add expert cards for current page
            currentExperts.forEach((expert, index) => {
                const expertCard = createExpertCard(expert);
                expertsGrid.appendChild(expertCard);
            });
            
            // Update pagination buttons
            updatePaginationButtons();
            
            // Setup pagination event listeners (only once)
            setupPaginationListeners();
        }

        // Setup pagination event listeners
        function setupPaginationListeners() {
            const paginationButtons = document.querySelectorAll('button[data-page]');
            console.log('Pagination buttons found:', paginationButtons.length);
            console.log('All experts loaded:', allExperts.length);
            
            // Remove existing listeners to prevent duplicates
            paginationButtons.forEach(button => {
                button.replaceWith(button.cloneNode(true));
            });
            
            // Add new listeners
            const newPaginationButtons = document.querySelectorAll('button[data-page]');
            newPaginationButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const pageNumber = parseInt(this.dataset.page);
                    const totalPages = Math.ceil(allExperts.length / itemsPerPage);
                    
                    console.log('Button clicked:', pageNumber);
                    console.log('Total pages:', totalPages);
                    console.log('Current page before:', currentPage);
                    
                    if (pageNumber >= 1 && pageNumber <= totalPages) {
                        currentPage = pageNumber;
                        console.log('Current page after:', currentPage);
                        updateExpertsGridWithPagination();
                        
                        // Scroll to center of experts section
                        setTimeout(() => {
                            const expertsSection = document.getElementById('expertsGrid');
                            if (expertsSection) {
                                const sectionRect = expertsSection.getBoundingClientRect();
                                const offset = sectionRect.top + window.pageYOffset - (window.innerHeight / 2) + (sectionRect.height / 2);
                                
                                window.scrollTo({
                                    top: offset,
                                    behavior: 'smooth'
                                });
                            }
                        }, 100);
                    }
                });
            });
        }

        // Update pagination buttons
        function updatePaginationButtons() {
            const paginationButtons = document.querySelectorAll('button[data-page]');
            const totalPages = Math.ceil(allExperts.length / itemsPerPage);

            paginationButtons.forEach(button => {
                const pageNumber = parseInt(button.dataset.page);
                
                // Reset button styles
                button.className = 'px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition';
                
                // Highlight current page
                if (pageNumber === currentPage) {
                    button.className = 'px-3 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition';
                }
                
                // Disable buttons beyond total pages
                if (pageNumber > totalPages) {
                    button.disabled = true;
                    button.className = 'px-3 py-2 rounded-lg bg-gray-100 text-gray-400 cursor-not-allowed transition';
                }
            });
        }

        // Create expert card HTML
        function createExpertCard(expert) {
            console.log('Creating card for expert:', expert.name, 'Category:', expert.category, 'Role:', expert.role);
            const div = document.createElement('div');
            div.className = 'expert-card rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition cursor-pointer';
            
            // Add click event to show modal
            div.addEventListener('click', function() {
                showExpertModal(expert);
            });
            
            // Set category for filtering
            div.setAttribute('data-category', expert.category.toLowerCase().replace(/\s+/g, '-'));
            
            // Store expert data for filtering
            div.expertData = expert;
            
            // Use string concatenation to avoid template literal issues
            const expertImage = expert.image || 'https://picsum.photos/seed/expert-' + expert.id + '/200/200.jpg';
            const expertName = expert.name || 'Expert Name';
            const expertPosition = expert.position || 'Expert';
            const expertExperience = expert.experience || 'Experience';
            const expertDescription = expert.description || 'Expert description';
            const expertRating = expert.rating || 0;
            const expertReviewCount = expert.reviewCount || 0;
            const expertCategory = expert.category || 'General';
            const expertRole = expert.role || 'Dosen';
            const expertOrganization = expert.organization || 'Founder Grow Synergy';
            
            console.log('Expert data for card:', {
                name: expertName,
                category: expertCategory,
                role: expertRole,
                organization: expertOrganization
            });
            
            div.innerHTML = 
                '<div class="rounded-lg p-4 hover:shadow-md transition cursor-pointer">' +
                    '<div class="flex items-start space-x-4">' +
                        '<img src="' + expertImage + '" alt="' + expertName + '" class="w-16 h-16 rounded-lg object-cover flex-shrink-0">' +
                        '<div class="flex-1 min-w-0">' +
                            '<h3 class="text-base font-semibold text-gray-900 mb-1">' + expertName + '</h3>' +
                            '<p class="text-sm text-gray-600 mb-2">' + expertPosition + '</p>' +
                            '<div class="flex items-center space-x-2 mb-2">' +
                                '<span class="inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-100 text-blue-800">' + expertCategory + '</span>' +
                            '</div>' +
                            '<div class="flex items-center">' +
                                generateStars(expertRating) +
                                '<span class="ml-2 text-sm text-gray-500">' + expertRating + ' (' + expertReviewCount + ')</span>' +
                            '</div>' +
                        '</div>' +
                    '</div>' +
                    '<div class="mt-3">' +
                        '<p class="text-sm text-gray-600 line-clamp-2">' + expertDescription + '</p>' +
                    '</div>' +
                '</div>';
            
            console.log('Card HTML created for:', expertName);
            console.log('Card HTML preview:', div.innerHTML.substring(0, 200) + '...');
            
            // Additional debugging for borderless design
            setTimeout(() => {
                const cardElement = div.querySelector('.rounded-lg');
                if (cardElement) {
                    const computedStyle = window.getComputedStyle(cardElement);
                    console.log('Card background color:', computedStyle.backgroundColor);
                    console.log('Card border:', computedStyle.border);
                    console.log('Card element found:', !!cardElement);
                } else {
                    console.log('Card element with .rounded-lg class not found');
                }
            }, 100);
            
            return div;
        }

        // Expert Modal functionality
        function showExpertModal(expert) {
            try {
                const modal = document.getElementById('expertModal');
                const modalTitle = document.getElementById('expertModalTitle');
                const modalImage = document.getElementById('expertModalImage');
                const modalContent = document.getElementById('expertModalContent');
                
                if (!modal || !modalTitle || !modalImage || !modalContent) {
                    console.error('Modal elements not found');
                    return;
                }
                
                // Set modal title
                modalTitle.textContent = expert.name || 'Expert Detail';
                
                // Set modal image
                const expertImage = expert.image || 'https://picsum.photos/seed/expert-' + (expert.id || 'default') + '/400/400.jpg';
                modalImage.innerHTML = '<div style="text-align: center;"><img src="' + expertImage + '" alt="' + (expert.name || 'Expert') + '" style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 3px solid #3b82f6;"></div>';
                
                // Set modal content
                const expertise = expert.expertise || expert.skills || [];
                const experience = expert.experience || expert.description || '';
                const rating = expert.rating || 0;
                const reviewCount = expert.reviewCount || 0;
                const position = expert.position || expert.title || '';
                
                // Ensure expertise is an array
                const expertiseArray = Array.isArray(expertise) ? expertise : [expertise].filter(Boolean);
                
                // Create skills HTML
                let skillsHtml = '';
                expertiseArray.forEach(skill => {
                    skillsHtml += '<span style="background: #dbeafe; color: #1e40af; padding: 4px 12px; margin: 4px; border-radius: 20px; font-size: 14px; display: inline-block;">' + skill + '</span>';
                });
                
                modalContent.innerHTML = 
                    '<div>' +
                        '<div style="text-align: center; margin-bottom: 30px;">' +
                            '<h3 style="font-size: 22px; font-weight: bold; color: #1f2937; margin-bottom: 8px;">' + (expert.name || 'Expert Name') + '</h3>' +
                            '<p style="font-size: 18px; color: #2563eb; font-weight: 600; margin-bottom: 8px;">' + position + '</p>' +
                            '<p style="color: #6b7280; margin-bottom: 16px;">' + experience + '</p>' +
                            '<div style="margin-bottom: 16px;">' + generateStars(rating) + '<span style="margin-left: 8px; color: #6b7280;">' + rating + ' (' + reviewCount + ' ulasan)</span></div>' +
                        '</div>' +
                        
                        '<div style="margin-bottom: 30px;">' +
                            '<h4 style="font-size: 18px; font-weight: bold; color: #1f2937; margin-bottom: 12px;">Deskripsi</h4>' +
                            '<p style="color: #6b7280; line-height: 1.6;">' + (expert.description || experience || 'Tidak ada deskripsi tersedia.') + '</p>' +
                        '</div>' +
                        
                        '<div style="margin-bottom: 30px;">' +
                            '<h4 style="font-size: 18px; font-weight: bold; color: #1f2937; margin-bottom: 12px;">Kategori</h4>' +
                            '<span style="background: #f3f4f6; color: #1f2937; padding: 4px 12px; border-radius: 20px; font-size: 14px;">' + (expert.category || getExpertCategory(expert.position || 'General')) + '</span>' +
                        '</div>' +
                        
                        
                    '</div>';
                
                // Show modal
                modal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            } catch (error) {
                console.error('Error showing expert modal:', error);
                alert('Terjadi kesalahan saat menampilkan detail expert. Silakan coba lagi.');
            }
        }
        
        function closeExpertModal() {
            const modal = document.getElementById('expertModal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        function getExpertCategory(position) {
            if (!position) {
                return 'General';
            }
            const pos = position.toLowerCase();
            if (pos.includes('data') || pos.includes('science') || pos.includes('analyst')) {
                return 'Data Science';
            } else if (pos.includes('web') || pos.includes('developer') || pos.includes('full stack')) {
                return 'Web Development';
            } else if (pos.includes('ui') || pos.includes('ux') || pos.includes('design')) {
                return 'UI/UX Design';
            } else if (pos.includes('mobile') || pos.includes('android') || pos.includes('ios')) {
                return 'Mobile Development';
            } else if (pos.includes('business') || pos.includes('intelligence') || pos.includes('analytics')) {
                return 'Business Intelligence';
            } else {
                return 'General';
            }
        }
        
        // Close modal when clicking outside
        document.getElementById('expertModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeExpertModal();
            }
        });
        
        // Close modal when clicking close button
        document.getElementById('closeExpertModal').addEventListener('click', closeExpertModal);

        // Generate star rating HTML
        function generateStars(rating) {
            let stars = '';
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="fas fa-star text-yellow-400"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="fas fa-star-half-alt text-yellow-400"></i>';
            }
            
            for (let i = fullStars + (hasHalfStar ? 1 : 0); i < 5; i++) {
                stars += '<i class="far fa-star text-yellow-400"></i>';
            }
            
            return stars;
        }

        // Initialize filter functionality
        function initializeFilters() {
            // Filter functionality
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Update active button
                    document.querySelectorAll('.filter-btn').forEach(b => {
                        b.classList.remove('bg-blue-600', 'text-white');
                        b.classList.add('bg-gray-200', 'text-gray-700');
                    });
                    this.classList.remove('bg-gray-200', 'text-gray-700');
                    this.classList.add('bg-blue-600', 'text-white');
                    
                    // Filter cards
                    const filter = this.dataset.filter;
                    const expertCards = document.querySelectorAll('.expert-card');
                    let visibleCount = 0;
                    
                    expertCards.forEach(card => {
                        const expert = card.expertData; // Get expert data from card
                        if (!expert) return;
                        
                        let shouldShow = false;
                        
                        if (filter === 'all') {
                            shouldShow = true;
                        } else {
                            // Convert category to lowercase and replace spaces with dashes for comparison
                            const expertCategoryNormalized = expert.category.toLowerCase().replace(/\s+/g, '-');
                            if (filter === expertCategoryNormalized) {
                                shouldShow = true;
                            }
                        }
                        
                        if (shouldShow) {
                            card.style.display = 'block';
                            visibleCount++;
                        } else {
                            card.style.display = 'none';
                        }
                    });
                    
                    // Check if any cards are visible
                    const expertsGrid = document.getElementById('expertsGrid');
                    
                    if (visibleCount === 0) {
                        // Show no results message
                        if (!document.getElementById('no-results-message')) {
                            const noResultsDiv = document.createElement('div');
                            noResultsDiv.id = 'no-results-message';
                            noResultsDiv.className = 'col-span-full text-center py-12';
                            noResultsDiv.innerHTML = `
                                <div class="text-6xl mb-4">🔍</div>
                                <h3 class="text-xl font-semibold mb-2 text-gray-800">Tidak ada instruktur ditemukan</h3>
                                <p class="text-gray-600 mb-4">Tidak ada instruktur dengan kategori "${this.textContent.trim()}"</p>
                                <button onclick="resetFilterToAll()" class="px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition">
                                    <i class="fas fa-th mr-1"></i>Lihat Semua Instruktur
                                </button>
                            `;
                            expertsGrid.appendChild(noResultsDiv);
                        }
                    } else {
                        // Remove no results message if exists
                        const noResultsMsg = document.getElementById('no-results-message');
                        if (noResultsMsg) {
                            noResultsMsg.remove();
                        }
                    }
                });
            });
        }

        // Enhanced search functionality with pagination support
        let searchTimeout;
        let isSearching = false;
        
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            
            // Clear previous timeout
            if (searchTimeout) {
                clearTimeout(searchTimeout);
            }
            
            // Debounce search to prevent glitches
            searchTimeout = setTimeout(() => {
                if (isSearching) return; // Prevent multiple simultaneous searches
                isSearching = true;
                
                if (searchTerm.length === 0) {
                    // Reset to first page when search is cleared
                    currentPage = 1;
                    updateExpertsGridWithPagination();
                    isSearching = false;
                    return;
                }
                
                // Search through all experts to find matches
                const matchingExperts = [];
                allExperts.forEach((expert, index) => {
                    const name = expert.name.toLowerCase();
                    const position = expert.position.toLowerCase();
                    const description = expert.description.toLowerCase();
                    const category = expert.category ? expert.category.toLowerCase() : '';
                    const experience = expert.experience.toLowerCase();
                    
                    // Combine all searchable text
                    const allText = name + ' ' + position + ' ' + description + ' ' + category + ' ' + experience;
                    
                    if (allText.includes(searchTerm)) {
                        matchingExperts.push({
                            ...expert,
                            originalIndex: index
                        });
                    }
                });
                
                console.log('Search term:', searchTerm);
                console.log('Matching experts:', matchingExperts.length);
                
                if (matchingExperts.length === 0) {
                    // Show no results message
                    const expertsGrid = document.getElementById('expertsGrid');
                    expertsGrid.innerHTML = `
                        <div id="noResultsMessage" class="col-span-full text-center py-8 text-gray-500">
                            <div class="text-6xl mb-4">🔍</div>
                            <h3 class="text-xl font-semibold mb-2">Tidak ada hasil ditemukan</h3>
                            <p>Tidak ada instruktur yang cocok dengan pencarian "${searchTerm}"</p>
                        </div>
                    `;
                    isSearching = false;
                    return;
                }
                
                // Find the page where the first matching expert is located
                const firstMatchIndex = matchingExperts[0].originalIndex;
                const targetPage = Math.floor(firstMatchIndex / itemsPerPage) + 1;
                
                console.log('First match index:', firstMatchIndex);
                console.log('Target page:', targetPage);
                
                // Switch to the target page
                currentPage = targetPage;
                updateExpertsGridWithPagination();
                
                // Highlight matching experts on the current page
                setTimeout(() => {
                    const expertCards = document.querySelectorAll('.expert-card');
                    expertCards.forEach(card => {
                        const name = card.querySelector('h3')?.textContent.toLowerCase() || '';
                        const position = card.querySelector('.bg-orange-500')?.textContent.toLowerCase() || '';
                        const description = card.querySelector('p.text-gray-600')?.textContent.toLowerCase() || '';
                        const category = card.querySelector('.bg-purple-100')?.textContent.toLowerCase() || '';
                        const experience = card.querySelector('div.ml-4 p.text-sm')?.textContent.toLowerCase() || '';
                        
                        const allText = name + ' ' + position + ' ' + description + ' ' + category + ' ' + experience;
                        
                        if (allText.includes(searchTerm)) {
                            // Highlight matching card
                            card.classList.add('ring-2', 'ring-blue-500', 'ring-offset-2');
                        } else {
                            card.classList.remove('ring-2', 'ring-blue-500', 'ring-offset-2');
                        }
                    });
                    isSearching = false;
                }, 300); // Increased delay to ensure grid is fully updated
            }, 300); // Debounce delay
        });

        // Function to reset filter to all
        function resetFilterToAll() {
            // Remove no results message
            const noResultsMsg = document.getElementById('no-results-message');
            if (noResultsMsg) {
                noResultsMsg.remove();
            }
            
            // Reset all filter buttons
            document.querySelectorAll('.filter-btn').forEach(b => {
                b.classList.remove('bg-blue-600', 'text-white');
                b.classList.add('bg-gray-200', 'text-gray-700');
            });
            
            // Set "All" button as active
            const allBtn = document.querySelector('[data-filter="all"]');
            if (allBtn) {
                allBtn.classList.remove('bg-gray-200', 'text-gray-700');
                allBtn.classList.add('bg-blue-600', 'text-white');
            }
            
            // Show all cards
            const expertCards = document.querySelectorAll('.expert-card');
            expertCards.forEach(card => {
                card.style.display = 'block';
            });
        }

        // Set active navigation based on current page
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = 'synergy-experts';
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.page === currentPage) {
                    link.classList.add('active');
                }
            });

            // Load experts from Firestore
            loadExperts();

            // Debug hero section background
            const heroSections = [];
            console.log('Hero sections data:', heroSections);
            console.log('Hero sections length:', heroSections.length);
            
            const backgroundDiv = document.querySelector('.hero-section .background-image');
            if (backgroundDiv) {
                console.log('Background div found:', backgroundDiv);
                
                // Set background image manually - use Picsum image for consistency
                if (heroSections.length > 0) {
                    const firstHero = heroSections[0];
                    backgroundDiv.style.backgroundImage = `url('${firstHero.backgroundImage}')`;
                    console.log('Setting background to:', firstHero.backgroundImage);
                } else {
                    backgroundDiv.style.backgroundImage = "url('https://picsum.photos/seed/hero1/1920/1080.jpg')";
                    console.log('Setting fallback background from Picsum');
                }
                
                console.log('Final background style:', backgroundDiv.style.backgroundImage);
            } else {
                console.log('Background div not found');
            }
            
            // Initialize filter functionality
            initializeFilters();
            
            // Load hero section background
            loadHeroSection();
        });
        
        // Load Hero Section Background
        async function loadHeroSection() {
            try {
                console.log('Loading hero section background...');
                console.log('DEBUG: Firebase db available:', !!db);
                
                // Test Firebase connection
                try {
                    const testDoc = await db.collection('heroSection').limit(1).get();
                    console.log('DEBUG: Firebase test connection successful, docs:', testDoc.docs.length);
                } catch (testError) {
                    console.log('DEBUG: Firebase test connection failed:', testError);
                    return;
                }
                
                // Load hero sections from Firebase
                const heroSectionsSnapshot = await db.collection('heroSection').get();
                const heroSections = [];
                
                heroSectionsSnapshot.docs.forEach(doc => {
                    const data = doc.data();
                    if (data.backgroundImage) {
                        heroSections.push({
                            id: doc.id,
                            backgroundImage: data.backgroundImage
                        });
                    }
                });
                
                console.log('Hero sections data:', heroSections);
                console.log('Hero sections length:', heroSections.length);
                
                // Update hero background
                const backgroundDiv = document.getElementById('hero-background-image');
                if (backgroundDiv) {
                    console.log('Background div found:', backgroundDiv);
                    
                    if (heroSections.length > 0) {
                        // Use first hero section background
                        const firstSection = heroSections[0];
                        if (firstSection.backgroundImage) {
                            backgroundDiv.style.backgroundImage = `url(${firstSection.backgroundImage})`;
                            console.log('Setting background from Firebase:', firstSection.backgroundImage);
                        }
                    } else {
                        // Fallback to default
                        console.log('No hero sections found, using fallback background');
                        backgroundDiv.style.backgroundImage = 'url("https://picsum.photos/seed/hero1/1920/1080.jpg")';
                    }
                    
                    console.log('Final background style:', backgroundDiv.style.backgroundImage);
                } else {
                    console.log('Background div not found');
                }
                
            } catch (error) {
                console.error('Error loading hero section:', error);
                
                // Fallback to default background
                const backgroundDiv = document.getElementById('hero-background-image');
                if (backgroundDiv) {
                    backgroundDiv.style.backgroundImage = 'url("https://picsum.photos/seed/hero1/1920/1080.jpg")';
                    console.log('Set fallback background due to error');
                }
            }
        }
    </script>
    
    <!-- WhatsApp Floating Button -->
    {{> whatsapp-button}}
</body>
</html>
