<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="{{description}}">
    <meta name="keywords" content="{{keywords}}">
    <meta name="author" content="{{author}}">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{{ogTitle}}">
    <meta property="og:description" content="{{ogDescription}}">
    <meta property="og:image" content="{{ogImage}}">
    <meta property="og:url" content="{{ogUrl}}">
    <meta property="og:type" content="{{ogType}}">
    <meta property="og:site_name" content="{{siteName}}">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="{{twitterCard}}">
    <meta name="twitter:title" content="{{twitterTitle}}">
    <meta name="twitter:description" content="{{twitterDescription}}">
    <meta name="twitter:image" content="{{twitterImage}}">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="{{canonical}}">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/css/custom.css" rel="stylesheet">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {{{structuredDataJson}}}
    </script>
    
    <!-- Google Analytics -->
    {{#if googleAnalyticsId}}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{googleAnalyticsId}}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '{{googleAnalyticsId}}');
    </script>
    {{/if}}
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <img src="/images/logo_pt.png" alt="GROW SYNERGY INDONESIA" class="w-20 h-20 rounded-lg object-cover">
                    <a href="/home" class="text-xl font-bold text-gray-800">GROW SYNERGY INDONESIA</a>
                </div>
                
                <div class="hidden md:flex space-x-6">
                    <a href="/home" class="nav-link" data-page="home">Beranda</a>
                    <a href="/synergy-experts" class="nav-link" data-page="synergy-experts">Synergy Experts</a>
                    <a href="/synergy-portfolio" class="nav-link" data-page="synergy-portfolio">Synergy Portofolio</a>
                    <a href="/synergy-academy" class="nav-link" data-page="synergy-academy">Synergy Academy</a>
                </div>
                
                <div class="flex items-center space-x-4">
                    <a href="/about" class="bg-gradient-to-r from-orange-500 to-green-500 text-white px-4 py-2 rounded-lg hover:from-orange-600 hover:to-green-600 transition-all duration-300 transform hover:scale-105 shadow-lg !important" style="background: linear-gradient(to right, #f97316, #4bd68d) !important;">
                        Tentang Kami
                    </a>
                    <button class="md:hidden text-gray-600">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>

<!-- Hero Section -->
<div class="hero-section" id="hero-section">
    <div class="background-image" id="hero-background-image" style="background-image: url('/images/hero-background.jpg');"></div>
    <div class="hero-content">
        <h2 class="text-3xl md:text-4xl font-light mb-4" id="hero-subtitle">Koleksi Project Terbaik</h2>
        <h1 class="text-4xl md:text-6xl font-bold mb-8" id="hero-title">Synergy Portofolio</h1>
        <p class="text-xl mb-8 text-center max-w-3xl" id="hero-description">
            Project-project terbaik dari alumni dan tim kami dalam berbagai bidang teknologi
        </p>
    </div>
</div>

<!-- Search Section -->
<section class="py-8 bg-white">
    <div class="container mx-auto px-4">
        <div class="max-w-2xl mx-auto">
            <div class="relative">
                <input 
                    type="text" 
                    id="searchInput"
                    placeholder="Cari kegiatan..." 
                    class="w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-200 text-gray-900 placeholder-gray-500"
                    style="color: #111827 !important; background-color: white !important;"
                >
                <button class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-700 hover:text-blue-600">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="mt-4 flex flex-wrap gap-2 justify-center">
                <button class="filter-btn px-4 py-2 bg-blue-600 text-white rounded-full text-sm hover:bg-blue-700 transition" data-filter="all">
                    All
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="Training">
                    Training
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="Workshop">
                    Workshop
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="Seminar">
                    Seminar
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="Bootcamp">
                    Bootcamp
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="Web Development">
                    Web Development
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="Data Science">
                    Data Science
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="Mobile Development">
                    Mobile Development
                </button>
                <button class="filter-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition" data-filter="UI/UX Design">
                    UI/UX Design
                </button>
            </div>
        </div>
    </div>
</section>

<!-- Synergy Portofolio Section -->
<section class="py-16">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4">
                Project Terbaik Kami
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                Lebih dari 50 project dari alumni dan tim kami dalam berbagai bidang teknologi
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8" id="portfolioGrid">
            <!-- Loading indicator -->
            <div id="loadingIndicator" class="col-span-full text-center py-12">
                <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                <p class="mt-4 text-gray-600">Memuat portfolio...</p>
            </div>
            <!-- Portfolio cards will be loaded dynamically from Firestore -->
        </div>
        
        <!-- Pagination -->
        <div class="mt-12 flex justify-center">
            <nav class="flex items-center space-x-2">
                <button class="px-3 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition" data-page="1">
                    1
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="2">
                    2
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="3">
                    3
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="4">
                    4
                </button>
                <button class="px-3 py-2 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition" data-page="5">
                    5
                </button>
            </nav>
        </div>
    </div>
</section>

<!-- Statistics Section -->
<section class="py-16 bg-blue-600 text-white">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
            <div>
                <div class="text-4xl font-bold mb-2">50+</div>
                <p class="text-blue-100">Project Selesai</p>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">25+</div>
                <p class="text-blue-100">Client Puas</p>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">15+</div>
                <p class="text-blue-100">Teknologi</p>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">99%</div>
                <p class="text-blue-100">Tingkat Kepuasan</p>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-16 text-white" style="background-color: #225273;">
    <div class="container mx-auto px-4 text-center">
        <h2 class="text-3xl md:text-4xl font-bold mb-4">
            Tampilkan Project Anda
        </h2>
        <p class="text-xl mb-8 text-white/90">
            Bergabung dengan komunitas developer dan tampilkan karya terbaik Anda
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button class="bg-white text-orange-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition">
                Submit Project
            </button>
            <button class="border-2 border-white text-white px-8 py-3 rounded-lg font-semibold hover:bg-white hover:text-orange-600 transition">
                Lihat Semua Project
            </button>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-gray-800 text-white py-12">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <div class="flex items-center space-x-2 mb-4">
                    <img src="/images/logo_pt.png" alt="GROW SYNERGY INDONESIA" class="h-8 w-auto">
                    <span class="text-lg font-bold text-black">GROW SYNERGY INDONESIA</span>
                </div>
                <p class="text-gray-400">Platform pelatihan data analitik terbaik di Indonesia dengan instruktur profesional dan sertifikat bersertifikat.</p>
            </div>
            
            <div>
                <h3 class="font-semibold mb-4">Pelatihan</h3>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="/synergy-academy" class="hover:text-white transition">Synergy Academy</a></li>
                    <li><a href="/synergy-experts" class="hover:text-white transition">Synergy Experts</a></li>
                    <li><a href="/synergy-portfolio" class="hover:text-white transition">Synergy Portofolio</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="font-semibold mb-4">Perusahaan</h3>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="/about" class="hover:text-white transition">Tentang Kami</a></li>
                    <li><a href="/contact" class="hover:text-white transition">Kontak</a></li>
                    <li><a href="/blog" class="hover:text-white transition">Blog</a></li>
                    <li><a href="/karir" class="hover:text-white transition">Karir</a></li>
                </ul>
            </div>
            
            <div>
                <h3 class="font-semibold mb-4">Ikuti Kami</h3>
                <div class="flex space-x-4 mb-4">
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-facebook text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-twitter text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-linkedin text-xl"></i>
                    </a>
                    <a href="#" class="text-gray-400 hover:text-white transition">
                        <i class="fab fa-instagram text-xl"></i>
                    </a>
                </div>
                <p class="text-gray-400">
                    <i class="fas fa-envelope mr-2"></i>info@growsynergy.id
                </p>
                <p class="text-gray-400">
                    <i class="fas fa-phone mr-2"></i>+62 812-3456-7890
                </p>
            </div>
        </div>
        
        <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
            <p>&copy; 2024 GROW SYNERGY INDONESIA. All rights reserved.</p>
        </div>
    </div>
</footer>

    </main>

    <!-- JavaScript -->
    <script src="/js/main.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    {{> firebase-config}}
    <script>
        // Initialize Firestore explicitly jika belum ada
        if (!window.db) {
            window.db = firebase.firestore();
        }
        
        // Set active navigation based on current page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DEBUG: DOMContentLoaded fired for synergy-portfolio');
            const currentPage = 'synergy-portfolio';
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.page === currentPage) {
                    link.classList.add('active');
                }
            });

            console.log('DEBUG: About to call loadPortfolios...');
            // Load portfolios from Firestore
            loadPortfolios();
            console.log('DEBUG: loadPortfolios called');
        });
        
        // Load portfolios from Firestore
        async function loadPortfolios() {
            try {
                console.log('DEBUG: Loading portfolios from Firestore...');
                console.log('DEBUG: Firebase db available:', !!window.db);
                console.log('DEBUG: Firebase app available:', !!firebase);
                
                // Test connection first
                console.log('DEBUG: Testing connection to portfolios collection...');
                const testDoc = await window.db.collection('portfolios').limit(1).get();
                console.log('DEBUG: Test connection successful, docs:', testDoc.docs.length);
                
                console.log('DEBUG: Fetching all portfolios...');
                const portfoliosSnapshot = await window.db.collection('portfolios').get();
                console.log('DEBUG: Snapshot received, docs count:', portfoliosSnapshot.docs.length);
                
                const portfolios = portfoliosSnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                console.log('DEBUG: Portfolios loaded:', portfolios);
                console.log('DEBUG: Portfolios length:', portfolios.length);
                
                if (portfolios.length > 0) {
                    console.log('DEBUG: First portfolio data:', portfolios[0]);
                }
                
                // Update portfolios grid
                updatePortfolioGrid(portfolios);
            } catch (error) {
                console.error('DEBUG: Error loading portfolios:', error);
                console.error('DEBUG: Error stack:', error.stack);
                console.error('DEBUG: Error code:', error.code);
                console.error('DEBUG: Error message:', error.message);
                // Fallback to mock data if Firestore fails
                console.log('DEBUG: Falling back to mock data...');
                loadMockPortfolios();
            }
        }
        
        // Mock data for portfolios (fallback)
        const mockPortfolios = [
            {
                id: 'mock-portfolio-1',
                title: 'E-commerce Analytics Platform',
                category: 'Data Analytics',
                image: 'https://picsum.photos/seed/portfolio1/400/300.jpg',
                description: 'Platform analitik untuk e-commerce dengan real-time dashboard.',
                technologies: ['Python', 'React', 'PostgreSQL'],
                projectUrl: '#',
                githubUrl: '#'
            },
            {
                id: 'mock-portfolio-2',
                title: 'Customer Segmentation System',
                category: 'Machine Learning',
                image: 'https://picsum.photos/seed/portfolio2/400/300.jpg',
                description: 'Sistem segmentasi pelanggan menggunakan machine learning.',
                technologies: ['Python', 'Scikit-learn', 'Pandas'],
                projectUrl: '#',
                githubUrl: '#'
            },
            {
                id: 'mock-portfolio-3',
                title: 'Sales Dashboard Automation',
                category: 'Business Intelligence',
                image: 'https://picsum.photos/seed/portfolio3/400/300.jpg',
                description: 'Dashboard otomatis untuk monitoring penjualan.',
                technologies: ['Tableau', 'SQL', 'Excel'],
                projectUrl: '#',
                githubUrl: '#'
            },
            {
                id: 'mock-portfolio-4',
                title: 'Mobile Banking App',
                category: 'Mobile Development',
                image: 'https://picsum.photos/seed/portfolio4/400/300.jpg',
                description: 'Aplikasi mobile banking dengan fitur transfer dan pembayaran.',
                technologies: ['React Native', 'Node.js', 'MongoDB'],
                projectUrl: '#',
                githubUrl: '#'
            },
            {
                id: 'mock-portfolio-5',
                title: 'Inventory Management System',
                category: 'Web Development',
                image: 'https://picsum.photos/seed/portfolio5/400/300.jpg',
                description: 'Sistem manajemen inventory dengan barcode scanning.',
                technologies: ['Vue.js', 'Laravel', 'MySQL'],
                projectUrl: '#',
                githubUrl: '#'
            },
            {
                id: 'mock-portfolio-6',
                title: 'AI Chatbot Integration',
                category: 'Artificial Intelligence',
                image: 'https://picsum.photos/seed/portfolio6/400/300.jpg',
                description: 'Chatbot AI untuk customer service automation.',
                technologies: ['Python', 'TensorFlow', 'NLP'],
                projectUrl: '#',
                githubUrl: '#'
            }
        ];
        
        // Load mock portfolios (fallback)
        function loadMockPortfolios() {
            console.log('DEBUG: Loading mock portfolios...');
            updatePortfolioGrid(mockPortfolios);
        }
        
        // Update portfolios grid with data
        function updatePortfolioGrid(portfolios) {
            console.log('DEBUG: updatePortfolioGrid called with:', portfolios);
            const portfolioGrid = document.getElementById('portfolioGrid');
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            console.log('DEBUG: Portfolio grid element found:', !!portfolioGrid);
            console.log('DEBUG: Loading indicator element found:', !!loadingIndicator);
            
            if (!portfolioGrid) {
                console.log('DEBUG: Portfolio grid not found');
                return;
            }

            // Remove loading indicator
            if (loadingIndicator) {
                console.log('DEBUG: Removing loading indicator');
                loadingIndicator.remove();
            }

            if (portfolios.length === 0) {
                console.log('DEBUG: No portfolios data available');
                // Show no data message
                const noDataMessage = document.createElement('div');
                noDataMessage.className = 'col-span-full text-center py-12';
                noDataMessage.innerHTML = `
                    <div class="text-6xl mb-4">ÔøΩ</div>
                    <h3 class="text-xl font-semibold mb-2 text-gray-600">Belum Ada Portfolio</h3>
                    <p class="text-gray-500">Portfolio akan segera ditampilkan. Silakan coba lagi nanti.</p>
                `;
                portfolioGrid.appendChild(noDataMessage);
                return;
            }

            console.log('DEBUG: Clearing existing content');
            // Clear existing content
            portfolioGrid.innerHTML = '';

            console.log('DEBUG: Adding portfolio cards');
            // Add portfolio cards
            portfolios.forEach((portfolio, index) => {
                console.log(`DEBUG: Processing portfolio ${index}:`, portfolio);
                const portfolioCard = createPortfolioCard(portfolio);
                portfolioGrid.appendChild(portfolioCard);
            });
            
            console.log('DEBUG: Portfolio section updated with', portfolios.length, 'items');
        }
        
        // Create portfolio card HTML using DOM methods
        function createPortfolioCard(portfolio) {
            const div = document.createElement('div');
            div.className = 'portfolio-card relative overflow-hidden rounded-lg shadow-lg hover:shadow-xl transition';
            
            // Set category for filtering
            div.setAttribute('data-category', portfolio.category || 'general');
            
            // Use DOM methods to avoid template literal issues
            const portfolioImage = portfolio.image || 'https://picsum.photos/seed/portfolio-' + portfolio.id + '/400/300.jpg';
            const portfolioTitle = portfolio.title || 'Activity Title';
            const portfolioCategory = portfolio.category || 'Activity';
            const portfolioDescription = portfolio.description || 'Activity description';
            const portfolioTechnologies = Array.isArray(portfolio.technologies) ? portfolio.technologies : [];
            const portfolioProjectUrl = portfolio.projectUrl || portfolio.liveDemoUrl || '#';
            const portfolioGithubUrl = portfolio.githubUrl || portfolio.codeUrl || '#';
            
            // Create image container
            const imageContainer = document.createElement('div');
            imageContainer.className = 'relative h-64';
            
            const img = document.createElement('img');
            img.src = portfolioImage;
            img.alt = portfolioTitle;
            img.className = 'w-full h-full object-cover';
            imageContainer.appendChild(img);
            
            const gradientOverlay = document.createElement('div');
            gradientOverlay.className = 'absolute inset-0 bg-gradient-to-t from-black/70 to-transparent';
            imageContainer.appendChild(gradientOverlay);
            
            const textOverlay = document.createElement('div');
            textOverlay.className = 'absolute bottom-0 left-0 right-0 p-4';
            
            const titleEl = document.createElement('h3');
            titleEl.className = 'text-white font-bold text-lg mb-2';
            titleEl.textContent = portfolioTitle;
            textOverlay.appendChild(titleEl);
            
            const descEl = document.createElement('p');
            descEl.className = 'text-white/80 text-sm mb-4';
            descEl.textContent = portfolioDescription;
            textOverlay.appendChild(descEl);
            
            const categoryContainer = document.createElement('div');
            categoryContainer.className = 'flex justify-between items-center';
            
            const categoryEl = document.createElement('span');
            categoryEl.className = 'text-white/80 text-xs';
            categoryEl.textContent = portfolioCategory;
            categoryContainer.appendChild(categoryEl);
            
            const techEl = document.createElement('span');
            techEl.className = 'text-white/80 text-xs';
            techEl.textContent = portfolioTechnologies[0] || '';
            categoryContainer.appendChild(techEl);
            
            textOverlay.appendChild(categoryContainer);
            imageContainer.appendChild(textOverlay);
            
            // Create content container
            const contentContainer = document.createElement('div');
            contentContainer.className = 'p-6';
            
            const overviewTitle = document.createElement('h4');
            overviewTitle.className = 'font-bold text-gray-800 mb-2';
            overviewTitle.textContent = 'Activity Overview';
            contentContainer.appendChild(overviewTitle);
            
            const overviewDesc = document.createElement('p');
            overviewDesc.className = 'text-gray-600 mb-4';
            overviewDesc.textContent = portfolioDescription;
            contentContainer.appendChild(overviewDesc);
            
            // Create technologies tags
            const techContainer = document.createElement('div');
            techContainer.className = 'flex flex-wrap gap-2 mb-4';
            
            portfolioTechnologies.slice(0, 3).forEach(tech => {
                const techTag = document.createElement('span');
                techTag.className = 'bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded';
                techTag.textContent = tech;
                techContainer.appendChild(techTag);
            });
            
            contentContainer.appendChild(techContainer);
            
            // Create links
            const linksContainer = document.createElement('div');
            linksContainer.className = 'flex justify-between';
            
            const docLink = document.createElement('a');
            docLink.href = portfolioProjectUrl;
            docLink.className = 'text-blue-600 hover:text-blue-800 font-medium';
            docLink.textContent = 'Documentation';
            linksContainer.appendChild(docLink);
            
            const resultsLink = document.createElement('a');
            resultsLink.href = portfolioGithubUrl;
            resultsLink.className = 'text-gray-600 hover:text-gray-800 font-medium';
            resultsLink.textContent = 'Results';
            linksContainer.appendChild(resultsLink);
            
            contentContainer.appendChild(linksContainer);
            
            // Append all to main div
            div.appendChild(imageContainer);
            div.appendChild(contentContainer);
            
            return div;
        }

        // Search functionality
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const portfolioCards = document.querySelectorAll('.portfolio-card');
            
            portfolioCards.forEach(card => {
                const title = card.querySelector('h3')?.textContent.toLowerCase() || '';
                const description = card.querySelector('p.text-white\\/80')?.textContent.toLowerCase() || '';
                const overview = card.querySelector('p.text-gray-600')?.textContent.toLowerCase() || '';
                const category = card.querySelector('div.flex.justify-between.items-center span:first-child')?.textContent.toLowerCase() || '';
                const technologies = Array.from(card.querySelectorAll('.bg-blue-100')).map(el => el.textContent.toLowerCase()).join(' ') || '';
                
                // Combine all searchable text
                const allText = title + ' ' + description + ' ' + overview + ' ' + category + ' ' + technologies;
                
                if (allText.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
            
            // Show message if no results
            const visibleCards = Array.from(portfolioCards).filter(card => card.style.display !== 'none');
            const noResultsMessage = document.getElementById('noResultsMessage');
            
            if (visibleCards.length === 0 && searchTerm.length > 0) {
                if (!noResultsMessage) {
                    const message = document.createElement('div');
                    message.id = 'noResultsMessage';
                    message.className = 'col-span-full text-center py-8 text-gray-500';
                    message.innerHTML = `
                        <div class="text-6xl mb-4">üîç</div>
                        <h3 class="text-xl font-semibold mb-2">Tidak ada hasil ditemukan</h3>
                        <p>Tidak ada portfolio yang cocok dengan pencarian "${searchTerm}"</p>
                    `;
                    document.getElementById('portfolioGrid').appendChild(message);
                }
            } else if (noResultsMessage) {
                noResultsMessage.remove();
            }
        });

        // Filter functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active button
                document.querySelectorAll('.filter-btn').forEach(b => {
                    b.classList.remove('bg-blue-600', 'text-white');
                    b.classList.add('bg-gray-200', 'text-gray-700');
                });
                this.classList.remove('bg-gray-200', 'text-gray-700');
                this.classList.add('bg-blue-600', 'text-white');
                
                // Filter cards
                const filter = this.dataset.filter;
                const portfolioCards = document.querySelectorAll('.portfolio-card');
                
                portfolioCards.forEach(card => {
                    if (filter === 'all' || card.dataset.category === filter) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        });
    </script>
    
    <script>
        // Load hero section data from API
        async function loadHeroSection() {
            console.log('DEBUG: Starting loadHeroSection for synergy-portfolio...');
            try {
                console.log('DEBUG: Fetching from /api/hero-section...');
                const response = await fetch('/api/hero-section');
                const heroSections = await response.json();
                console.log('DEBUG: Hero sections response:', heroSections);
                
                if (heroSections.length > 0) {
                    const hero = heroSections[0]; // Use the first hero section
                    console.log('DEBUG: Using hero section:', hero);
                    const backgroundImage = document.getElementById('hero-background-image');
                    
                    console.log('DEBUG: Background image element found:', !!backgroundImage);
                    
                    // Update background image
                    if (hero.backgroundImage && backgroundImage) {
                        console.log('DEBUG: Updating background image to:', hero.backgroundImage);
                        backgroundImage.style.backgroundImage = `url('${hero.backgroundImage}')`;
                        console.log('DEBUG: Background image updated successfully');
                    } else {
                        console.log('DEBUG: No background image or element not found');
                    }
                    
                    console.log('DEBUG: Hero section loaded successfully for synergy-portfolio:', hero);
                } else {
                    console.log('DEBUG: No hero sections found');
                }
            } catch (error) {
                console.error('DEBUG: Error loading hero section for synergy-portfolio:', error);
                // Keep default content if API fails
            }
        }
        
        // Load hero section when page loads
        document.addEventListener('DOMContentLoaded', loadHeroSection);
    </script>
    
    <!-- WhatsApp Floating Button -->
    {{> whatsapp-button}}
</body>
</html>
